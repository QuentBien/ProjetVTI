<!doctype html>
<head>
<title><%= tagline %></title>
</head>
<html>
<body style="background:whitesmoke;">
<head>
<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
<link rel="stylesheet" href="https://code.getmdl.io/1.2.1/material.indigo-pink.min.css">
<script defer src="https://code.getmdl.io/1.2.1/material.min.js"></script>
<script src="./controller/filmController.js"></script>
</head>
<div id="demo-toast-example" class="mdl-js-snackbar mdl-snackbar">
  <div class="mdl-snackbar__text"></div>
  <button class="mdl-snackbar__action" type="button"></button>
</div>
<section style="padding-left:50px;padding-right:50px">
<h1>Films :</h1>
<dialog class="mdl-dialog" style="width:450px;display:none">
    <h4 class="mdl-dialog__title">Supprimer le film ?</h4>
    <div class="mdl-dialog__content">
      <p id="diag"></p>
    </div>
    <div class="mdl-dialog__actions">
      <button id="confirm" type="button" class="mdl-button">Confirmer</button>
      <button id="cancel" type="button" class="mdl-button close">Annuler</button>
    </div>
  </dialog>
<div id="flexbox" style="display:flex;flex-wrap:wrap;justify-content: space-around;justify-content: center;">
    <% films.forEach(function(film) { %>
	<div id="<%= film._id %>" class="mdl-card mdl-shadow--2dp" style="width:450px;height:450px;display:inline-block;margin-bottom:20px;margin-left:20px">
        <br>
        <button id="del<%= film._id %>" class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent mdl-button--icon" onclick="showDeleteModal(<%= JSON.stringify(film._id) %>, <%= JSON.stringify(film.title) %>)" style="float:right;display:inline-block;margin-left:10px;margin-right:10px"><i class="material-icons">delete</i></button>
        <div class="mdl-tooltip" data-mdl-for="del<%= film._id %>">Supprimer le film</div>
        <button id="ed<%= film._id %>" class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--accent mdl-button--icon" onclick="" style="float:right;display:inline-block;"><i class="material-icons">edit</i></button>	
        <div class="mdl-tooltip" data-mdl-for="ed<%= film._id %>">Editer le film</div>
        <div class="mdl-card__title" style="display:block;padding-bottom:0;">
            <h2 class="mdl-card__title-text"><%= film.title %></h2>
            <em class="mdl-card__subtitle-text">R&eacute;alis&eacute; par <%= film.director.first_name %> <%= film.director.last_name %> (<%= film.year %>, <%= film.country %>), <%= film.genre %></em>   
        </div>
        <div class="mdl-card__supporting-text" style="display:flex;flex-direction: column;justify-content: space-around;">        
            <strong>Acteurs</strong>
            <p>
                <%  var i= 0;
                    film.actors.forEach(function(actor) { i++; %>
                    <%= actor.first_name %> <%= actor.last_name %><% if(i<film.actors.length){%>, <%} 
             }); %></p>
            <strong>Synopsis</strong>              
            <p style="overflow-y:auto;height:250px;"><%= film.summary %></p>
        </div>
    </div>
    <% }); %>
</div>
</section>
</body>
</html>